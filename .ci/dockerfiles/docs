FROM python:3.7-slim

RUN apt update || true && \
    apt install -qq -y make && \
    rm -rf /var/cache/apt/*

RUN python3 -m pip install --upgrade-strategy eager -U 'pygame' 'ppb-vector' 'dataclasses; python_version < "3.7"' && \
    python3 -m pip install --upgrade-strategy eager -U 'sphinx' 'sphinx_rtd_theme' && \
    rm -rf ~/.cache/pip
